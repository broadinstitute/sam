directory {
  url = ${DIRECTORY_URL}
  user = "cn=Directory Manager"
  user = ${?DIRECTORY_USER}
  password = ${DIRECTORY_PASSWORD}
  baseDn="dc=dsde-dev,dc=broadinstitute,dc=org"
  baseDn = ${?DIRECTORY_BASEDN}
  enabledUsersGroupDn = "cn=enabled-users,ou=groups,dc=dsde-dev,dc=broadinstitute,dc=org"
}

googleServices {
  appName = "firecloud:sam"
  appsDomain = "dev.test.firecloud.org"
  pathToPem = "/etc/sam-account.pem"
  serviceAccountClientId = "109949113883754608360"
  serviceAccountClientEmail = "sam-dev-service-account@broad-dsde-dev.iam.gserviceaccount.com"
  serviceAccountClientProject = "broad-dsde-dev"
  subEmail = "google@dev.test.firecloud.org"
  projectServiceAccount = "broad-dsde-dev@gs-project-accounts.iam.gserviceaccount.com"

  groupSync {
    pubSubProject = proj
    pollInterval = 10ms
    pollJitter = 0s
    pubSubTopic = top
    pubSubSubscription = sub
    workerCount = 1
  }

  notifications {
    topicName = "notifications"
  }

  googleKeyCache {
    bucketName = "my-test-bucket"
    activeKeyMaxAge = 25000 #test objects default to Jan 1 1970. Cranking this value up allows for test keys to be seen as active
    retiredKeyMaxAge = 25048

    monitor {
      pubSubProject = "broad-dsde-dev"
      pollInterval = 1m
      pollJitter = 10s
      pubSubTopic = "sam-google-key-cache"
      pubSubSubscription = "sam-google-key-cache-sub"
      workerCount = 1
    }
  }
}

schemaLock {
  lockSchemaOnBoot = true
  recheckTimeInterval = 5
  maxTimeToWait = 60
  instanceId = "sam-local"
  schemaVersion = 1
}

petServiceAccount {
  googleProject = "my-pet-project"
  serviceAccountUsers = ["some-other-sa@test.iam.gserviceaccount.com"]
}

testStuff = {
  resourceTypes = {
    testType = {
      actionPatterns = {
        alter_policies = {
          description = ""
          authDomainConstrained = true
        }
        read_policies = {
          description = ""
        }
      }
      ownerRoleName = "owner"
      roles = {
        owner = {
          roleActions = ["alter_policies", "read_policies"]
        },
        nonOwner = {
          roleActions = []
        }
      }
      reuseIds = false
    }
  }
}
