akka.http.server.idle-timeout = 180 s
akka.http.server.request-timeout = 60 s

resourceTypes = {
  workspace = {
    actionPatterns = {
      delete = {
        description = "Delete this workspace"
      }
      read_policies = {
        description = "View all policies and policy details for this workspace"
      }
      "share_policy::owner" = {
        description = "Add/remove members to/from the owner policy for this workspace"
      }
      "share_policy::writer" = {
        description = "Add/remove members to/from the writer policy for this workspace"
      }
      "share_policy::reader" = {
        description = "Add/remove members to/from the reader policy for this workspace"
      }
      "read_policy::owner" = {
        description = "View the details of the owner policy for this workspace"
      }
      "read_policy::project-owner" = {
        description = "View the details of the project-owner policy for this workspace"
      }
    }
    ownerRoleName = "owner"
    roles = {
      owner = {
        roleActions = ["delete", "read_policies", "share_policy::owner", "share_policy::writer", "share_policy::reader", "read_policy::project-owner"]
      },
      writer = {
        roleActions = ["read_policy::owner", "read_policy::project-owner"]
      },
      reader = {
        roleActions = ["read_policy::owner", "read_policy::project-owner"]
      }
    }
    reuseIds = false
  }
  managed-group = {
    actionPatterns = {
      delete = {
        description = "Delete this group"
      }
      read_policies = {
        description = "View all policies and policy details for this group"
      }
      "share_policy::admin" = {
        description = "Add/remove members to/from the admin policy for this group"
      }
      "share_policy::member" = {
        description = "Add/remove members to/from the member policy for this group"
      }
      "read_policy::admin" = {
        # Doug Said this may be redundant with "read_policies" and could be removed
        description = "View the details of the admin policy for this group"
      }
      "read_policy::member" = {
        # Doug Said this may be redundant with "read_policies" and could be removed
        description = "View the details of the member policy for this group"
      }
    }
    ownerRoleName = "admin"
    roles = {
      admin = {
        roleActions = ["delete", "read_policies", "share_policy::admin", "share_policy::member", "read_policy::admin", "read_policy::member"]
      },
      member = {
        roleActions = []
      }
    }
    reuseIds = true
  }
  workflow-collection = {
    actionPatterns = {
      delete = {
        description = "Delete this workflow-collection"
      }
      add = {
        description = ""
      }
      view = {
        description = ""
      }
      abort = {
        description = ""
      }
      update = {
        description = ""
      }
      alter_policies = {
        description = "Create and delete policies on this workflow-collection"
      }
      read_policies = {
        description = "View all policies and policy details for this workflow-collection"
      }
    }
    ownerRoleName = "owner"
    roles = {
      owner = {
        roleActions = ["delete", "add", "view", "abort", "update", "alter_policies", "read_policies"]
      },
      reader = {
        roleActions = ["view"]
      },
      writer = {
        roleActions = ["view", "add", "delete", "abort", "update"]
      }
    }
    reuseIds = false
  }
  caas = {
    actionPatterns = {
      get_whitelist = {
        description = ""
      }
      alter_policies = {
        description = "Create and delete policies for this caas"
      }
      read_policies = {
        description = "View all policies and policy details for this caas"
      }
    }
    ownerRoleName = "owner"
    roles = {
      owner = {
        roleActions = ["alter_policies", "read_policies"]
      },
      cromiam = {
        roleActions = ["get_whitelist"]
      }
    }
    reuseIds = false
  }
  billing-project = {
    actionPatterns = {
      create_workspace = {
        description = "Create new workspaces in this billing-project"
      }
      alter_policies = {
        description = "Create and delete policies for this billing-project"
      }
      read_policies = {
        description = "List all policies and policy details for this billing-project"
      }
      launch_batch_compute = {
        description = ""
      }
      list_notebook_cluster = {
        description = ""
      }
      launch_notebook_cluster = {
        description = ""
      }
      sync_notebook_cluster = {
        description = ""
      }
      delete_notebook_cluster = {
        description = ""
      }
      stop_start_notebook_cluster = {
        description = ""
      }
      alter_google_role = {
        description = ""
      }
      "share_policy::.+" = {
        description = ""
      }
      "read_policy::.+" = {
        description = ""
      }
    }
    ownerRoleName = "owner"
    roles = {
      owner = {
        roleActions = ["create_workspace", "alter_policies", "read_policies", "launch_batch_compute", "list_notebook_cluster", "launch_notebook_cluster", "sync_notebook_cluster", "delete_notebook_cluster", "alter_google_role"]
      },
      workspace-creator = {
        roleActions = ["create_workspace", "share_policy::can-compute-user", "read_policy::can-compute-user"]
      },
      batch-compute-user = {
        roleActions = ["launch_batch_compute"]
      },
      notebook-user = {
        roleActions = ["launch_notebook_cluster"]
      }
    }
    reuseIds = true
  }
  notebook-cluster = {
    actionPatterns = {
      status = {
        description = ""
      }
      connect = {
        description = ""
      }
      sync = {
        description = ""
      }
      delete = {
        description = ""
      }
      read_policies = {
        description = ""
      }
      stop_start = {
        description = ""
      }
    }
    ownerRoleName = "creator"
    roles = {
      creator = {
        roleActions = ["status", "connect", "sync", "delete", "read_policies", "stop_start"]
      }
    }
    reuseIds = true
  }
  cloud-extension = {
    actionPatterns = {
      get_pet_private_key = {
        description = ""
      }
      alter_policies = {
        description = ""
      }
      read_policies = {
        description = ""
      }
    }
    ownerRoleName = "owner"
    roles = {
      owner = {
        roleActions = ["alter_policies", "read_policies"]
      },
      google = {
        roleActions = ["get_pet_private_key"]
      }
    }
    reuseIds = false
  }
}
