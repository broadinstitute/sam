jdk:
  - oraclejdk8

language: scala

scala:
  - 2.12.2

sudo: required

env:
  global:
  - secure: H5chaAGBxvQdPQRe+7JQQiICECjhaVYHkXD+sww76iy0lg90fnR5oxukyM1lofmCMi7d20sET70iQNzLp3ASNkaixc/kS3bE5xCODqxgNIR0pTHVvnYs3RqZE53Nid3LTFKKY2sXTzwkxvQIE/Phju6VUR+/kkkyoELrqZspybtYnCmnLYawNarIMZtWki391Nf7FF2xsKykCMnx0UP1sDA+WK5exjVpST2WwkZ0vVU2D79q+TYnv3yUvhwkWwDOWn7Nk8vZ/9SPzCC1k6OT59FpeA4xdXKcdBO28ApoxaUDjgGBDZqcgJ4xF0Yf0rSQ2SBNErNfE9wXFK4q2k+HojZbacghMXqRz+yZukofG7pANXQ7v0WmyLR7GAVNkRx8/5ayt3k1wWt91jj2uRIhKl3nhKDymUhq6IIJl6NWfoxnFBpmcLefS907g+nsp5rLfcucHM5jUr1Ci/EvOa65sk6SGR2tPQjLa3HH9AfQrTeV8H4p94h19hoEy2TwJXHV1lPh7l9SO2CTtH1cO8pU2e4jG7MyUOCqW7Jw9KLnxa3xNsX6hCv+ginkYEqlvv4vBoX1i6BkF44s25idmRqhBHPOus1ij9fAdqIYQRSVzynfaEU+Q6iqyXlJNdoOEnKAFHb9ssYvi71a0XKvflavI4JSAfz03IjR4MAS+SIyzI4=
  - secure: VXadX6JDzY+gX+X/+dWwOh2uhJKCEpZ0O7vMM1sE9ks63a1js+OAPfrgqUZcWBy7G8Q7/TxGM5QgMZl7u4udJBlb7HDyGWmYdXimyvmb9V2BviVbFFE1V7k6tpRxx0WU91nfGsX0EfHnuhaq7ygCoGC81zjpnnFXYjCVdFUQy/9QEZm+Tctj5ncgcg+ES3P8dcxMNj8WxkQrFQz9JK61ycI2gdv30X/7XiVsBYG0X4lvoSgDUZwFzhimxGOoEayJNke1S7ogA7ZtGv7Rsun1P6BxXF9Ej7eKSJeH9D23dojw4PPLNYbsZeE8kIq0co8wFDEOBFDGAfOTljqYEjGlgz/h2srbx6uxpp77JMgc+F/2o9nS8vSSU1vnXR/5C8Z00UKggTEnd5N37+ganhAA0woDciyVPizks/LQVw2SO1WM4juByf/dfv0+AyTafguDZt+bglNM9lOjMi8/fRzY5M0eFLHhUdkr9ARqBm4XNJh0+d6ZJ4zebCojJTfeGvfawfNrGoybNF7IPb6aQUBERwFShkXVYkxFAsTa5eOz1TPMsP9lScAMGh/Tikw4DpteC/4CEDYfB/+7s7VjSheqPOkgAQ9QEFm8dUwEtiNWBvXXsBhiQsQdyYNfPUDU3ks3LiADEGUzpXbNpLV4n1PWTX1rAKOh5UDXk50cTWJIAlE=

services:
  - docker

before_install:
  - sh docker/run-opendj.sh start

script:
  - SBT_OPTS=-Xmx3g sbt clean coverage test -Denv.type=test -Ddirectory.url=ldap://localhost:3389 -Ddirectory.password=testtesttest

after_success:
  - SBT_OPTS=-Xmx3g sbt coveralls
  - sh docker/run-opendj.sh stop
  - bash swagger-api-client/publish.sh
